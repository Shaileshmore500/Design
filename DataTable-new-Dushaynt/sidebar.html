<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sidebar Page</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> -->
    <style>
        
        body{
            background-color: antiquewhite;
            margin:0;
            font-family:  system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
        }
        #sidebar{
            height: 100vh;
            width:max-content;
            position: fixed;
            right: 0px;
            bottom: 0px;
            z-index:2;
            transform:translateX(100%);
            background-color: whitesmoke;
            border-left: solid 3px gray;
            transition: all 0.2s ;
        }
        .show-sidebar{
            transform: translateX(0%) !important;
        }
        .show{
            display: block !important;
        }
        .hide{
            display: none;
        }
        .btn {
            display: inline-block;  
            padding: 0.375rem 0.75rem;
            white-space: nowrap;
            text-align: center;
            border-radius: 0.25rem;
            border:none;
            font-size: 1rem;
            background:lightgray;
            transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        /* Hover effect for buttons */
        .btn:hover {
            text-decoration: none;
            opacity: .9;
        }
        /* Active state for buttons */
        .btn:active{
            border: 1px solid black;
            background: gray;
            outline: 0;
            box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
        }
        /* Focus state for buttons */
        .btn:focus {
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }
        .btn-toggler{
            font-size: 20px;
            padding: 8px;
            position: absolute;
            top: 15px;
            left: -44px;
        }
        #sidebar .close{
            text-align: right;
        }
        .btn-close {
            font-size: 1.5rem;
            font-weight: 700;
            line-height: 1;
            color: #000;
            text-shadow: 0 1px 0 #fff;
            opacity: 0.5;
        }

        .btn-close:hover,
        .btn-close:focus {
            color: #000;
            text-decoration: none;
            opacity: 0.75;
        } 
        .inputField{
            padding:15px;
        }
        .row {
            display: flex;
            flex-wrap: nowrap;
        }
        .col-auto {
            flex: 1 0 auto;
            margin-bottom: 15px;;
        }
        #inputText{
            width: -webkit-fill-available;
        }

        .form-control {
            display: block;
            width: 100%;
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }

        /* Focus state for form-control */
        .form-control:focus {
            color: #495057;
            background-color: #fff;
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }
        .icon-link {
            display: inline-flex;
            align-items: center;
            text-decoration: none;
            color: inherit;
        }
        .inputField label.icon-link{
            font-size: 30px;
            cursor: pointer;
            padding: 0 15px;
            height: -webkit-fill-available;
        }
        .inputField label.icon-link svg{
            height:25px;
            width:25px;
        }
        .inputField label.icon-link:hover svg{
            transform:rotate(45deg);
        }
        .inputField [type="file"]{
            display:none;
        }
        #img-preview {
            display: none;
            width: 155px;
            border: 2px dashed #333;  
            margin-bottom: 20px;
        }
        #img-preview img {
        width: 100%;
        height: auto;
        display: block;
        }
        #filename-preview{
        display: none;
        width: 25vw;
        border: 2px dashed #333;
        margin-bottom: 20px;
        padding: 0 5px;
        color: mediumpurple;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        }
        .btn-save{
            display:block;
            width: fit-content;
            background-color: #714b69;
            color:white;
        }
        .btn-save:hover{
            background-color: #714b699c;
            color:white;
        }
        .card{
            padding: 1rem;
            margin: 1rem;
            border: solid 1px black;
            border-radius: 0.375rem;
            background: white;
        }
        .message-log {
            overflow-x: hidden;
            overflow-y: auto;
            height: max-content;
            max-height: 75vh;
        }
        .date-marker{
            text-align: center;
            position: relative;
        }
        .date-marker hr{
            margin:1rem 0;
        }
        .date {
            display: inline-block;
            position: absolute;
            top: -12px;
            left: calc(50% - (61.5px / 2));
            padding: 0 10px;
            background-color: #fff;
            font-weight: bold;
            color: dimgray;
        }
        .message-block{
            display: flex;
            flex-direction: column;
            row-gap: 26px;
        }
        .message-block .user-img{
            height: 50px;
            width: 50px;
            border: solid;
            border-radius: 0.375rem;
            font-size: 12px;
            float: left;
            margin-right: 4px;
        }
        .message-details{
            flex:1;
        }
        .sender{
            margin: 0;
            font-weight: bold;
            font-size: 15px;
            line-height: 18px;
            display: flex;
            justify-content: space-between;
        }
        .sender-name{
            display: inline-block;
            width: 14vw;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .message-timestamp{
            padding-left: 4px;
            color: gray;
            font-weight: normal;
            font-size: 14px;
            vertical-align: top;
            white-space: nowrap;
            flex-shrink: 0;
        }
        .edit-message{
            display: inline-block;
            position: relative;
        }
        .btn-alterMessage{
            background-color: lightgray;
            font-weight: bold;
            padding: 0;
            height: 22px;
            width: 25px;
            margin-left: 5px;
            vertical-align: top;
        }
        .btn-alterMessage:hover{
            background-color: darkgray;
        }
        .btn-alterMessage svg{
            vertical-align: middle;
        }
        .dropdown-menu{
            display:none;
            min-width: 95px;
            padding: 0;
            position: absolute;
            right:0;
            z-index: 5;
            overflow: hidden;
            font-size: 13px;
            border: solid 2px gray;
            background: white;
            border-radius: 0.375rem;
            margin: 0;
        }
        .dropdown-menu li{
            border-bottom: solid 1px;
        }
        .dropdown-item:active{
            background-color: rgba(40, 98, 255, 0.993);
            color:white;
        }
        .dropdown-menu li:nth-last-child(1){
            border-bottom: none;
        }
        .dropdown-item{
            display: inline-block;
            width: 100%;
            padding: 0.25rem;
            text-decoration: none;
            color:black;
        }
        .edit-message .dropdown-menu .dropdown-item svg{
            width: 13px;
            height: 13px;
        }
        .message-text{
            font-size:14px;
            margin:0;
        }
        .attachment{
            display: flex;
            column-gap: 10px;
            align-items: center;
            width: max-content;
            background: lightgray;
            border-radius: 6px;
        }
        .attachment-preview{
            height: 40px;
            width:35px;
            object-fit: contain;
        }
        .attachment-name{
            font-size: 12px;
            font-weight: bold;
            width: 100px;
            height: 38px;
            overflow: hidden;
        }
        .attachment-alter-buttons{
            width:36px;
            padding:5px;
        }
        .attachment-alter-buttons a.icon-link svg{
            font-weight: bold;
        }
        
    </style>
</head>
<body>
    
    <div id="sidebar" class="show">
        <button class="btn  btn-toggler" type="button">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrows-expand-vertical" viewBox="0 0 16 16">
                <path d="M8 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5M.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2ZM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8"/>
            </svg>
        </button>

        <div class="close">
            <button type="button" class="btn-close">&times;</button>
        </div>
        
        <form class="inputField">
            <div class="row">
                <div class="col-auto">
                  <label for="inputText" class="visually-hidden"></label>
                  <input type="text" class="form-control" id="inputText" placeholder="placeholder text">
                </div>
                <div class="col-auto">
                    <input type="file" name="file-upload" id="file-upload">
                    <label for="file-upload" class="icon-link icon-link-hover" style="--bs-icon-link-transform: translate3d(0, -.125rem, 0);" href="#file-upload">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-paperclip" viewBox="0 0 16 16">
                            <path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"/>
                        </svg>
                    </label>
                </div>
            </div>
            <div id="img-preview"></div>
            <div id="filename-preview"></div>
            <button type="button" class="btn btn-save" >Add Notes</button>
        </form>

        
        <div class="message-log card card-body m-3">
            <div class="date-marker">
                <hr><span class="date"> Today </span>
            </div>
            <div class="message-block">
                <div class="message-details">
                    <img src="Images.sidebar/bmp.png" class="user-img" alt="User Image">
                    <div class="message-details-inner">
                        <div class="sender">
                            <span class="sender-name">SensysSensysSensysSensysSensysSensysSensysSensys</span> 
                            <span class="message-timestamp">&middot; now</span>
                            <div class="edit-message">
                                <button class="btn btn-alterMessage">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
                                    <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/>
                                  </svg>
                                </button>
                                <ul class="dropdown-menu">
                                  <li>
                                        <a class="dropdown-item" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                        <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/></svg> Edit</a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                                        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/></svg> Delete</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <p class="message-text">asdagafdgha</p>
                    </div>
                </div>
                <div class="attachment">
                    <img src="Images.sidebar/text.png" alt="" class="attachment-preview">
                    <p class="attachment-name">logofattachmentfiles.txt</p>
                    <div class="attachment-alter-buttons">
                        <a class="icon-link icon-link-hover" style="--bs-icon-link-transform: translate3d(0, -.125rem, 0);--bs-link-hover-color-rgb: 205, 0, 0;" href="#" class="btn-attachment-delete">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                                <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
                              </svg>
                          </a>
                          <a class="icon-link icon-link-hover" style="--bs-icon-link-transform: translate3d(0, -.125rem, 0);" href="#" class="btn-attachment-download">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                                <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                              </svg>
                          </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script> -->
    <script>
        // Sidebar Toggle Code
        const toggler = document.getElementsByClassName('btn-toggler')[0];
        toggler.addEventListener("click", expandSidebar);
        function expandSidebar(){
            let sidebarDiv = document.getElementById('sidebar');
            sidebarDiv.classList.toggle("show-sidebar");
        }

        const closeBtn = document.getElementsByClassName('btn-close')[0];
        closeBtn.addEventListener("click", closeSidebar);
        function closeSidebar(){
            let sidebarDiv = document.getElementById('sidebar');
            sidebarDiv.classList.remove("show");
        }

        const chooseFile = document.getElementById("file-upload");
        const imgPreview = document.getElementById("img-preview");
        const filePreview = document.getElementById("filename-preview");
        chooseFile.addEventListener("change", function () {
        getImgData();
        });

        //File Upload Preview
        function getImgData() {
            const files = chooseFile.files[0];
            if (files && files.type.includes('image') ) {
                const fileReader = new FileReader();
                fileReader.readAsDataURL(files);
                fileReader.addEventListener("load", function () {
                imgPreview.style.display = "block";
                imgPreview.innerHTML = '<img src="' + this.result + '" />';
                });    
            }
            else{
                filePreview.style.display = "block";
                filePreview.innerText = files.name;
            }
        }
        
        //Alter Message Code
        window.onload = function(){
            dropDownFunction();
        };
        let dropDownButtonList = document.getElementsByClassName('btn-alterMessage');
        function dropDownFunction(){
                for(let element of dropDownButtonList){
                    element.addEventListener('click',showOptionList);
                }
        }
        function showOptionList(){
            let options = this.nextElementSibling;
            options.classList.toggle("show");
            let backPage = document.getElementById('random-click');
            backPage.classList.toggle("show");
        }

    </script>
</body>
</html>