
<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />



  
  <title>CodePen - Range Input Value Bubbles (jQuery Free)</title>
    <link rel="canonical" href="https://codepen.io/chriscoyier/pen/DwYBxn" />
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

  
  
<style>
.wrapper
{
    width:500px;
    border: 10px solid #eee;
    margin: 0 auto;
    padding: 10px;
}
output { 
  position: absolute;
  background-image: linear-gradient(#444444, #999999);
  width: 40px; 
  height: 30px; 
  text-align: center; 
  color: white; 
  border-radius: 10px; 
  display: inline-block; 
  font: bold 15px/30px Georgia;
  bottom: 175%;
  left: 0;
}
output:after { 
  content: "";
  position: absolute; 
  width: 0;
  height: 0;
  border-top: 10px solid #999999;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  margin-top: -1px;
}
form { position: relative; margin: 50px; width: 1200px; }
</style>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>

  
</head>

<body>
<div class="wrapper">
    <form>
        <input type="range" name="foo" min="0" max="100">
        <output for="foo" onforminput="value = foo.valueAsNumber;"></output>
    </form>

    <form>
        <input type="range" name="foo" min="0" max="100" style="width: 300px;">
        <output for="foo" onforminput="value = foo.valueAsNumber;"></output>
    </form>

    <form>
        <input type="range" name="foo" min="0" max="100">
        <output for="foo" onforminput="value = foo.valueAsNumber;"></output>
    </form>
</div>
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js"></script>

  
<script>
function modifyOffset() {
  var el, newPoint, newPlace, offset, siblings, k;
  width = this.offsetWidth;
  newPoint = (this.value - this.getAttribute("min")) / (this.getAttribute("max") - this.getAttribute("min"));
  offset = -1;
  if (newPoint < 0) {newPlace = 0;} else
  if (newPoint > 1) {newPlace = width;} else
  {newPlace = width * newPoint + offset;offset -= newPoint;}
  siblings = this.parentNode.childNodes;
  for (var i = 0; i < siblings.length; i++) {if (window.CP.shouldStopExecution(0)) break;
    sibling = siblings[i];
    if (sibling.id == this.id) {k = true;}
    if (k == true && sibling.nodeName == "OUTPUT") {
      outputTag = sibling;
    }
  }window.CP.exitedLoop(0);
  outputTag.style.left = newPlace + "px";
  outputTag.style.marginLeft = offset + "%";
  outputTag.innerHTML = this.value;
}

function modifyInputs() {

  var inputs = document.getElementsByTagName("input");
  for (var i = 0; i < inputs.length; i++) {if (window.CP.shouldStopExecution(1)) break;
    if (inputs[i].getAttribute("type") == "range") {
      inputs[i].onchange = modifyOffset;

      // the following taken from http://stackoverflow.com/questions/2856513/trigger-onchange-event-manually
      if ("fireEvent" in inputs[i]) {
        inputs[i].fireEvent("onchange");
      } else {
        var evt = document.createEvent("HTMLEvents");
        evt.initEvent("change", false, true);
        inputs[i].dispatchEvent(evt);
      }
    }
  }window.CP.exitedLoop(1);
}
modifyInputs();
//# sourceURL=pen.js
    </script>
</body>
</html>
